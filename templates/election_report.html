<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Election Summary Report</title>
  <style>
    /* Set the body margin to ensure content is properly centered within the page */
    body {
      margin: 0;
      padding: 0;
    }

    /* The wrapper div with 2cm margins on all sides */
    div {
      margin-left: 2cm;
      margin-right: 2cm;
    }

    /* Table headers and cells */
    .er-table {
      border-collapse: collapse;
      width: 100%;
      max-width: 1200px; /* optional, for consistency */
      margin: 5px auto;
      table-layout: fixed;  /* ðŸ”§ forces column widths to respect your percentages */
    }
    th, td {
    border: 1px solid #aaa;
    padding: 2px;
    text-align: center;
    overflow: hidden;         /* ðŸ‘ˆ prevents content from breaking the layout */
    text-overflow: ellipsis;  /* ðŸ‘ˆ adds ... if content too long */
    white-space: nowrap;
    word-wrap: break-word;      /* ðŸ‘ˆ prevents wrapping; use 'normal' if you want wrap */
  }

    /* Heading for report */
    h2 {
      text-align: center;
      font-size: 18px;
      margin-bottom: 20px;
    }

    /* Add styles for iframe */
    #mapwin2 {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    iframe {
      width: 800px;
      height: 500px;
    }

      /* Column width by percentage */

  .er-table th:nth-child(1),
  .er-table td:nth-child(1) {
    width: 22%;
  }

  .er-table th:nth-child(2),
  .er-table td:nth-child(2) {
    width: 8%;
  }

  .er-table th:nth-child(3),
  .er-table td:nth-child(3) {
    width: 14%;
  }

  .er-table th:nth-child(4),
  .er-table td:nth-child(4) {
    width: 14%;
  }

  .er-table th:nth-child(5),
  .er-table td:nth-child(5) {
    width: 12%;
  }

  .er-table th:nth-child(6),
  .er-table td:nth-child(6) {
    width: 20%;
  }
  </style>
</head>
<body>
  <div>
    <!-- Election map iframe -->
    <div id="mapwin2" class="innertube">
      <iframe id="iframe2" src="{{ url_for('thru', path=mapfile) }}" width="800" height="500" title="Election Map"></iframe>
    </div>

    <h2>Surrey Election Summary Report {{ reportdate }}</h2>

    <!-- Election data table -->
    <table id="canvass-table" = class="er-table">
      <thead>
        <tr>
          <th>Territory</th>
          <th>Election Date</th>
          <th>Candidate</th>
          <th>Campaign Mgr</th>
          <th>Mobile</th>
          <th>Manager Email</th>
          <th>Incumbent Party</th>
        </tr>
      </thead>
      <tbody>
        {% for election in report_data %}
        <tr>
          <td>{{ election.territory }}</td>
          <td>{{ election.electiondate }}</td>
          <td>{{ election.candidate }}</td>
          <td>{{ election.campaign_mgr }}</td>
          <td>{{ election.mobile }}</td>
          <td>{{ election.campaignMgremail }}</td>
          <td>{{ election.incumbent_party }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
